<!--
=========================================================
* Soft UI Dashboard 3 - v1.1.0
=========================================================

* Product Page: https://www.creative-tim.com/product/soft-ui-dashboard
* Copyright 2024 Creative Tim (https://www.creative-tim.com)
* Licensed under MIT (https://www.creative-tim.com/license)
* Coded by Creative Tim

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
-->
<!DOCTYPE html>
<html lang="en" xmlns:x-on="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="icon" type="image/png" href="img/favicon.png">
    <title>
        Stock
    </title>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet" />
    <link href="css/nucleo-svg.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet"/>
    <link id="pagestyle" href="css/soft-ui-dashboard.css?v=1.0.3" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="css/gui.css">
    <link rel="stylesheet" type="text/css" href="css/popup.css">
    <link rel="stylesheet" type="text/css" href="css/styles.css">
    <link rel="stylesheet" type="text/css" href="css/classic.min.css">
</head>

<body class="g-sidenav-show  bg-gray-100" x-data="loadData()" x-init="init()">
<aside class="sidenav navbar navbar-vertical navbar-expand-xs border-0 border-radius-xl my-3 fixed-start ms-3 " id="sidenav-main">
    <div class="sidenav-header">
        <i class="fas fa-times p-3 cursor-pointer text-secondary opacity-5 position-absolute end-0 top-0 d-none d-xl-none" aria-hidden="true" id="iconSidenav"></i>
        <a class="navbar-brand m-0" href=" https://demos.creative-tim.com/soft-ui-dashboard/pages/dashboard.html " target="_blank">
            <img src="img/favicon.png" class="navbar-brand-img h-100" alt="main_logo">
            <span class="ms-1 font-weight-bold">Stock</span>
        </a>
    </div>
    <hr class="horizontal dark mt-0">
    <div class="collapse navbar-collapse  w-auto  max-height-vh-100 h-100" id="sidenav-collapse-main">
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link active" href="index.html">
                    <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
                        <svg width="12px" height="12px" viewBox="0 0 45 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                            <title>shop </title>
                            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                <g transform="translate(-1716.000000, -439.000000)" fill="#FFFFFF" fill-rule="nonzero">
                                    <g transform="translate(1716.000000, 291.000000)">
                                        <g transform="translate(0.000000, 148.000000)">
                                            <path class="color-background opacity-6" d="M46.7199583,10.7414583 L40.8449583,0.949791667 C40.4909749,0.360605034 39.8540131,0 39.1666667,0 L7.83333333,0 C7.1459869,0 6.50902508,0.360605034 6.15504167,0.949791667 L0.280041667,10.7414583 C0.0969176761,11.0460037 -1.23209662e-05,11.3946378 -1.23209662e-05,11.75 C-0.00758042603,16.0663731 3.48367543,19.5725301 7.80004167,19.5833333 L7.81570833,19.5833333 C9.75003686,19.5882688 11.6168794,18.8726691 13.0522917,17.5760417 C16.0171492,20.2556967 20.5292675,20.2556967 23.494125,17.5760417 C26.4604562,20.2616016 30.9794188,20.2616016 33.94575,17.5760417 C36.2421905,19.6477597 39.5441143,20.1708521 42.3684437,18.9103691 C45.1927731,17.649886 47.0084685,14.8428276 47.0000295,11.75 C47.0000295,11.3946378 46.9030823,11.0460037 46.7199583,10.7414583 Z"></path>
                                            <path class="color-background" d="M39.198,22.4912623 C37.3776246,22.4928106 35.5817531,22.0149171 33.951625,21.0951667 L33.92225,21.1107282 C31.1430221,22.6838032 27.9255001,22.9318916 24.9844167,21.7998837 C24.4750389,21.605469 23.9777983,21.3722567 23.4960833,21.1018359 L23.4745417,21.1129513 C20.6961809,22.6871153 17.4786145,22.9344611 14.5386667,21.7998837 C14.029926,21.6054643 13.533337,21.3722507 13.0522917,21.1018359 C11.4250962,22.0190609 9.63246555,22.4947009 7.81570833,22.4912623 C7.16510551,22.4842162 6.51607673,22.4173045 5.875,22.2911849 L5.875,44.7220845 C5.875,45.9498589 6.7517757,46.9451667 7.83333333,46.9451667 L19.5833333,46.9451667 L19.5833333,33.6066734 L27.4166667,33.6066734 L27.4166667,46.9451667 L39.1666667,46.9451667 C40.2482243,46.9451667 41.125,45.9498589 41.125,44.7220845 L41.125,22.2822926 C40.4887822,22.4116582 39.8442868,22.4815492 39.198,22.4912623 Z"></path>
                                        </g>
                                    </g>
                                </g>
                            </g>
                        </svg>
                    </div>
                    <span class="nav-link-text ms-1">市場總覽</span>
                </a>
            </li>
        </ul>
    </div>
</aside>
<main class="main-content position-relative max-height-vh-100 h-100 border-radius-lg ">
    <!-- Navbar -->
    <nav class="navbar navbar-main navbar-expand-lg px-0 mx-4 shadow-none border-radius-xl" id="navbarBlur" navbar-scroll="true">
        <div class="container-fluid py-1 px-3 d-flex justify-content-between align-items-center">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb bg-transparent mb-0 pb-0 pt-1 px-0 me-sm-6 me-5">
                    <li class="breadcrumb-item text-sm"><a class="opacity-5 text-dark" href="javascript:;">Pages</a></li>
                    <li class="breadcrumb-item text-sm text-dark active" aria-current="page">市場總覽</li>
                </ol>
            </nav>
        </div>
    </nav>
    <!-- End Navbar -->
    <div class="container-fluid mt-2">

        <div class="row" style="height: 85vh">
<!--            左側-->
            <div class="col-lg-4 col-md-6 d-flex flex-column align-items-center justify-content-center">
                <template x-if="steps.length == 0">
                    <div class="card-body d-flex align-items-center justify-content-center text-center">
                        <a href="javascript:;" @click="openContentModal">
                            <h5 class="text-secondary p-3" style="border: 1px dashed #6c757d; border-radius: 12px;"><i class="fa fa-plus text-secondary me-2"></i> 新增第一個 </h5>
                        </a>
                    </div>
                </template>
                <ul class="list-unstyled progress-list" x-ref="stepList">
                    <template x-for="(step, index) in steps" :key="index">
                            <li class="d-flex justify-content-between align-items-start mb-4" :data-id="step.id">
                                <!-- 左側：圓圈 + 標題 -->
                                <div class="d-flex align-items-start w-100 cursor-pointer" @click="viewTargetContent(step.id, step.type)">
                                    <!-- 圓圈 -->
                                    <div
                                            @click.stop
                                            class="drag-handle me-3 rounded-circle border d-flex justify-content-center align-items-center align-self-center"
                                            style="width: 32px; height: 32px; font-weight: bold; cursor: grab;"
                                            :class="{
                                              'border-success bg-progress-success bg-opacity-10 text-progress-success': index < currentStep,
                                              'border-info bg-progress-info bg-opacity-10 text-progress-Info': index === currentStep,
                                              'border-secondary text-secondary': index > currentStep
                                            }"
                                    >
                                        <template x-if="index < currentStep">✓</template>
                                        <template x-if="index >= currentStep">
                                            <span x-text="index + 1"></span>
                                        </template>
                                    </div>

                                    <!-- 標題文字 -->
                                    <div
                                            class="flex-grow-1 text-start"
                                            :class="{
                                              'text-progress-success fw-bold': index < currentStep,
                                              'text-progress-info fw-bold': index === currentStep,
                                              'text-secondary': index > currentStep
                                            }"
                                            x-text="step.title"
                                    ></div>
                                </div>

                                <!-- 右側 icon -->
                                <div class="align-self-start">
                                    <i
                                            class="fas fa-edit ms-2"
                                            :class="{
                                              'text-progress-success fw-bold': index < currentStep,
                                              'text-progress-info fw-bold': index === currentStep,
                                              'text-secondary': index > currentStep
                                            }"
                                    ></i>
                                </div>
                            </li>
                    </template>
                </ul>
            </div>

            <div class="col-lg-8 col-md-6 mb-md-0 mb-4">
                <div class="card" style="max-height: 85vh; overflow: auto">
                    <template x-if="contents.length == 0">
                        <div class="card-body d-flex flex-column align-items-center justify-content-center">
                            <div class="col-xl-3 col-md-6 mb-xl-0 mb-4">
                                <div class="card card-plain border">
                                    <div class="h-100 card-body d-flex align-items-center justify-content-center text-center">
                                        <a href="javascript:;" @click="openContentModal">
                                            <i class="fa fa-plus text-secondary mb-3"></i>
                                            <h5 class="text-secondary"> 加入內容 </h5>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </template>
                    <template x-if="contents.length > 0 && selectedType == 'LAYOUT'">
                        <div class="card-header pb-0 mb-2" style="margin-left: 70px">
                                <h5 x-text="symbolTitle"></h5>
                                <hr class="horizontal dark mt-0">
                                <div class="mt-2">
                                    <span class="fw-bold me-3" x-text="KDate" style="font-size: 0.95rem; color: black"></span>
                                    <span class="fw-bold me-3" :class="KIsRise ? 'text-danger' : 'text-success-deep'">
                        <span x-text="KClose.toLocaleString(undefined, { minimumFractionDigits: 2 })"></span>
                        <span class="ms-2" style="font-size: 0.95em; display: inline-flex; align-items: center;">
                          <template x-if="KIsRise">
                            <i class="fas fa-caret-up me-1" style="color: red; font-size: 0.95em; margin-right: 2px;"></i>
                          </template>
                          <template x-if="!KIsRise">
                            <i class="fas fa-caret-down me-1" style="color: green; font-size: 0.95em; margin-right: 2px;"></i>
                          </template>
                          <span>
                            <span x-text="KChange.toFixed(2)"></span>
                              (<span x-text="KChangePercent.toFixed(2) + '%'"></span>)
                            </span>
                          </span>
                        </span>
                                    <span class="ms-1 me-1 fw-bold" style="font-size: 0.95rem; color: black">開<span class="ms-1" x-text="KOpen.toFixed(2)" style="font-size: 0.95rem; color: black"></span></span>
                                    <span class="ms-2 me-1 fw-bold" style="font-size: 0.95rem; color: black">高<span class="ms-1" x-text="KHigh.toFixed(2)" style="font-size: 0.95rem; color: black"></span></span>
                                    <span class="ms-2 me-1 fw-bold" style="font-size: 0.95rem; color: black">低<span class="ms-1" x-text="KLow.toFixed(2)" style="font-size: 0.95rem; color: black"></span></span>
                                    <span class="ms-2 me-1 fw-bold" style="font-size: 0.95rem; color: black">量<span class="ms-1" x-text="Number(KVolume).toLocaleString()" style="font-size: 0.95rem; color: black"></span></span>
                                </div>
                            </div>
                        <div class="card-body h-100">
                            <div class="table-responsive h-100">
                                <div id="container" class="chart"></div>
                            </div>
                        </div>
                    </template>
                    <template x-if="contents.length > 0 && selectedType == 'NOTE'">
                        <div class="card-body">
                            <div class="tab-content">
                                <div class="tab-pane fade show active" id="note-tab" role="tabpanel">
                                    <div class="d-flex justify-content-end align-items-center mb-2">
                                        <div class="position-relative d-inline-block cursor-pointer">
                                            <i @click="saveNote" class="fas fa-save text-dark fs-3 me-2" data-bs-toggle="tooltip" data-bs-placement="bottom" title="儲存筆記" data-container="body" data-animation="true"></i>
                                            <i @click="openEditNoteModal" class="fas fa-edit text-dark fs-3 me-2" data-bs-toggle="tooltip" data-bs-placement="bottom" title="編輯筆記標題" data-container="body" data-animation="true"></i>

                                            <!-- 黃色圓點 -->
                                            <span
                                                    x-show="unsavedLabel"
                                                    class="position-absolute top-0 start-0 translate-middle p-1 bg-warning border border-light rounded-circle"
                                                    style="z-index: 1; width: 15px; height: 15px;"
                                            ></span>
                                        </div>
                                    </div>
                                    <!-- 放筆記內容 -->
                                    <textarea  placeholder="撰寫筆記內容" rows="10" class="ckeditor" id="editor-note" name="note"></textarea>
                                </div>
                            </div>
                        </div>
                    </template>
                </div>
            </div>
        </div>

        <footer class="footer pt-3  ">
            <div class="container-fluid">
                <div class="row align-items-center justify-content-lg-between">
                    <div class="col-lg-6 mb-lg-0 mb-4">
                        <div class="copyright text-center text-sm text-muted text-lg-start">
                            © <script>
                  document.write(new Date().getFullYear())
                </script>2025,
                            made with <i class="fa fa-heart"></i> by
                            <a href="https://www.creative-tim.com" class="font-weight-bold" target="_blank">Creative Tim</a>
                            for a better web.
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <ul class="nav nav-footer justify-content-center justify-content-lg-end">
                            <li class="nav-item">
                                <a href="https://www.creative-tim.com" class="nav-link text-muted" target="_blank">Creative Tim</a>
                            </li>
                            <li class="nav-item">
                                <a href="https://www.creative-tim.com/presentation" class="nav-link text-muted" target="_blank">About Us</a>
                            </li>
                            <li class="nav-item">
                                <a href="https://creative-tim.com/blog" class="nav-link text-muted" target="_blank">Blog</a>
                            </li>
                            <li class="nav-item">
                                <a href="https://www.creative-tim.com/license" class="nav-link pe-0 text-muted" target="_blank">License</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </footer>
    </div>
</main>

<div class="modal fade" id="contentTypeModal" tabindex="-1" role="dialog" aria-labelledby="contentTypeModal" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-sm" role="document">
        <div class="modal-content">
            <div class="modal-body p-0">
                <div class="card card-plain">
                    <div class="card-header pb-0 text-left">
                        <h3 class="font-weight-bolder text-primary text-gradient">選擇內容類型</h3>
                    </div>
                    <div class="card-body pb-3 text-center d-flex flex-column justify-content-center">
                        <button type="button" @click="searchTargetContent('LAYOUT')" class="btn bg-gradient-primary btn-lg btn-rounded w-100 mt-4 mb-0">版面</button>
                        <button type="button" @click="searchTargetContent('NOTE')" class="btn bg-gradient-primary btn-lg btn-rounded w-100 mt-4 mb-0">筆記</button>
                        <button type="button" @click="searchTargetContent('NEWS')" class="btn bg-gradient-primary btn-lg btn-rounded w-100 mt-4 mb-0">新聞</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<div class="modal fade" id="searchContentModal" tabindex="-1" role="dialog" aria-labelledby="searchContentModal" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header position-relative justify-content-between align-items-center">
                <div class="ps-2">
                    <i class="fas fa-chevron-left text-dark cursor-pointer" @click="backModal"></i>
                </div>
                <h5 class="modal-title position-absolute top-50 start-50 translate-middle" id="searchContentTitle"></h5>
                <button type="button" class="btn-close text-dark" data-bs-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body d-flex align-items-center" style="border-bottom: 1px solid #ebebeb">
                <i class="fas fa-search text-secondary me-2 fs-5"></i>
                <input type="text" class="form-control" x-model="searchContentKeyword" placeholder="搜尋" x-on:keydown.enter="searchContent">
            </div>
            <div class="ms-2 modal-body" style="border-bottom: 1px solid #ebebeb; padding: 0.6rem 1rem 0.6rem 1rem">
                <span class="text-secondary" style="font-size: 0.8rem">名稱</span>
            </div>
            <div class="modal-body" style="min-height: 384px; max-height: 526px; overflow: auto; padding: 0">
                <template x-if="searchContentType == 'LAYOUT'">
                    <ul class="w-100 list-unstyled">
                        <template x-for="(layout, index) in layouts" :key="index">
                            <li class="cursor-pointer" @click="selectLayout(layout.id)">
                                <div class="ps-4 pe-4 pt-2 pb-2 d-flex align-items-center justify-content-between">
                                    <!-- 文字區塊（靠左對齊） -->
                                    <div class="flex-grow-1 d-flex flex-column text-start">
                                        <span x-text="layout.name" class="fw-bold text-dark"></span>
                                        <span x-text="layout.info"
                                              :class="layout.checkedStyle ? 'text-white small' : 'text-muted small'"
                                              class="small"></span>
                                    </div>
                                </div>
                            </li>
                        </template>
                    </ul>
                </template>
                <template x-if="searchContentType == 'NOTE'">
                    <ul class="w-100 list-unstyled">
                        <template x-for="(note, index) in notes" :key="index">
                            <li class="cursor-pointer" @click="selectNote(note.id)">
                                <div class="ps-4 pe-4 pt-2 pb-2 d-flex align-items-center justify-content-between">
                                    <!-- 文字區塊（靠左對齊） -->
                                    <div class="flex-grow-1 d-flex flex-column text-start">
                                        <span x-text="note.title" class="fw-bold text-dark"></span>
                                        <span class="small ms-2">
                                            • 所屬版面：<span x-text="note.layoutName"></span>
                                        </span>
                                    </div>
                                </div>
                            </li>
                        </template>
                    </ul>
                </template>
                <template x-if="searchContentType == 'NEWS'">
                    <ul class="w-100 list-unstyled">
                        <template x-for="(n, index) in news" :key="index">
                            <li class="cursor-pointer" @click="selectNew(n.id)">
                                <div class="ps-4 pe-4 pt-2 pb-2 d-flex align-items-center justify-content-between">
                                    <!-- 文字區塊（靠左對齊） -->
                                    <div class="flex-grow-1 d-flex flex-column text-start">
                                        <span x-text="n.title" class="fw-bold text-dark"></span>
                                        <span x-text="n.publishedDate" class="small"></span>
                                        <div class="mb-2 mt-1">
                                            <template x-for="(tag,index) in n.tagLabels" :key="index">
                                                <span class="badge bg-gradient-dark me-1" x-text="tag"></span>
                                            </template>
                                        </div>
                                    </div>
                                </div>
                            </li>
                        </template>
                    </ul>
                </template>
            </div>

        </div>
    </div>
</div>

<!--modal-->
<div class="col-md-4">
    <div class="modal fade" id="styleModal" tabindex="-1" role="dialog" aria-labelledby="styleModal" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-sm" role="document">
            <div class="modal-content">
                <div class="modal-body p-0">
                    <div class="card card-plain">
                        <div class="card-header pb-0 text-left">
                            <h3 class="font-weight-bolder text-primary text-gradient">修改樣式</h3>
                        </div>
                        <div class="card-body pb-3">
                            <form role="form text-left">
                                <label class="color-input-area hidden">顏色</label>
                                <div class="color-input-area line-color-picker input-group mb-1 hidden"></div>

                                <label class="width-input-area hidden">寬度</label>
                                <div class="width-input-area input-group mb-1 hidden">
                                    <input id="width" type="number" min="1" max="100" class="form-control" placeholder="選擇線條寬度">
                                </div>

                                <label class="fill-input-area hidden">填滿 (背景顏色)</label>
                                <div class="fill-input-area fill-color-picker input-group mb-1 hidden"></div>

                                <label class="text-input-area hidden">文字內容</label>
                                <div class="text-input-area input-group mb-1 hidden">
                                    <input id="text" type="text" class="form-control" placeholder="填入文字內容">
                                </div>

                                <label class="text-input-area hidden">文字大小</label>
                                <div class="text-input-area input-group mb-1 hidden">
                                    <input id="textSize" min="1" max="64" type="number" class="form-control" placeholder="文字大小">
                                </div>

                                <label class="label-input-area hidden">標示</label>
                                <div class="label-input-area input-group mb-1 hidden">
                                    <input id="label0" type="text" class="form-control" placeholder="標記初始位置">
                                </div>
                                <div class="label-input-area input-group mb-1 hidden">
                                    <input id="label1" type="text" class="form-control" placeholder="波浪1">
                                </div>
                                <div class="label-input-area input-group mb-1 hidden">
                                    <input id="label2" type="text" class="form-control" placeholder="波浪2">
                                </div>
                                <div class="label-input-area input-group mb-1 hidden">
                                    <input id="label3" type="text" class="form-control" placeholder="波浪3">
                                </div>
                                <div class="label-input-area input-group mb-1 hidden">
                                    <input id="label4" type="text" class="form-control" placeholder="波浪4">
                                </div>
                                <div class="label-input-area input-group mb-1 hidden">
                                    <input id="label5" type="text" class="form-control" placeholder="波浪5">
                                </div>

                                <div class="text-center">
                                    <button type="button" id="saveStyleBtn" class="btn bg-gradient-primary btn-lg btn-rounded w-100 mt-4 mb-0">儲存</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="js/popper.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/perfect-scrollbar.min.js"></script>
<script src="js/smooth-scrollbar.min.js"></script>
<script src="js/jquery.min.js"></script>
<script src="js/alpine.2.8.2.min.js"></script>
<script async defer src="js/buttons.js"></script>
<script src="js/soft-ui-dashboard.min.js?v=1.0.3"></script>
<script src="js/Sortable.js"></script>
<!--highstock-->
<script src="js/highstock.js"></script>
<script src="js/indicators-all.js"></script>
<script src="js/drag-panes.js"></script>
<script src="js/annotations-advanced.js"></script>
<script src="js/price-indicator.js"></script>
<script src="js/full-screen.js"></script>
<script src="js/stock-tools.js"></script>
<script src="js/heikinashi.js"></script>
<script src="js/hollowcandlestick.js"></script>
<script src="js/exporting.js"></script>
<script src="js/accessibility.js"></script>
<script src="js/connectors-morningstar.js"></script>
<!--highstock-->
<!--pickr-->
<script src="js/pickr.min.js"></script>
<script src="js/pickr.es5.min.js"></script>
<script src="js/pickr-color.js"></script>
<!--pickr-->
<script src="js/ckeditor.js"></script>
<script src="js/editor.js"></script>
<script src="js/add-study.js"></script>
</body>
</html>